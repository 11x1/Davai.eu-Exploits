var button = document.createElement('input')
button.type = 'file';
button.id = 'exploitfiles';
button.className = 'btn';
document.body.appendChild(button);

const changeProfilePicture = function (userid) {
	var ud = userid
	files = document.getElementById("exploitfiles").files;
	// если files пустой
	if (typeof files == 'undefined') {
		alert('Файл не определен!');
		return false;
	}
	// создадим объект данных формы
	var data = new FormData();
	// заполняем объект данных файлами в подходящем для отправки формате
	$.each(files, function (key, value) {
		data.append(key, value);
	});
	// добавим переменную для идентификации запроса
	data.append('my_file_upload', 1);
	data.append('ud', ud);

	// AJAX запрос
	$.ajax({
		url: '/submit.php',
		type: 'POST',
		data: data,
		cache: false,
		dataType: 'json',
		// отключаем обработку передаваемых данных, пусть передаются как есть
		processData: false,
		// отключаем установку заголовка типа запроса. Так jQuery скажет серверу что это строковой запрос
		contentType: false,
		// функция успешного ответа сервера
		success: function (respond, status, jqXHR) {

			// ОК - файлы загружены
			if (typeof respond.error === 'undefined') {
                console.log("Success (userid: " + ud + ")", respond);
			}
			// ошибка
			else {
				Console.log('Ошибка1! ' + respond);
			}
		},
		// функция ошибки ответа сервера
		error: function (jqXHR, status, errorThrown) {
			console.log(jqXHR, status, errorThrown);
		}

	});

};
