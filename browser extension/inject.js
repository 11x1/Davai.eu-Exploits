// davai.eu speedrun any%
let check_button = true
let teema_start  = 2
let teema_end    = 2
let tund_start   = 8
let tund_end     = 100



function httpGet(theUrl) {
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return xmlHttp.responseText;
}

function componentToHex(c) {
  var hex = c.toString(16);
  return hex.length == 1 ? "0" + hex : hex;
}

function rgbToHex(r, g, b) {
  return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
}

(function() {
	if (document.location.href.startsWith("https://davai.eu/student-page/")) {
		// just place a div at top right
		var div = document.createElement('div');
		div.className = "riisi geniaalne davai exploit"
		div.style.position = 'fixed';
		div.style.top = 0;
		div.style.right = 0;
		
		let c = {
			r: 255,
			g: 0,
			b: 0
		}
		
		setInterval(function() {
			if (c.r == 255 && c.g < 255) {
				c.g += 1
			} else if (c.g == 255 && c.r > 0 ) {
				c.r -= 1
			} else if (c.g == 255 && c.b < 255) {
				c.b += 1
			} else if (c.b == 255 && c.g > 0) {
				c.g -= 1
			} else if (c.b == 255 && c.r < 255) {
				c.r += 1
			} else if (c.r == 255 && c.b > 0) {
				c.b -= 1
			}
			
			div.style.color = rgbToHex(c.r, c.b, c.g)
		}, 10)
		div.innerHTML = 'Exploit active (thanks to a lot of coffee)';
		document.body.appendChild(div);

		setInterval(function() {

			if (check_button && document.location.href == "https://davai.eu/student-page/") {
				let all_classes = document.getElementsByClassName("theme_tab")

				for (i = 0; i < teema_end; i++) {
					if (i >= teema_start - 1){
						let cur_class_workflow = all_classes.item(i).getElementsByClassName("one_mat")
						for (j = 0; j < tund_end; j++) {
							if (j >= tund_start - 1) {
								try {
									let cur_class = cur_class_workflow.item(j)
									let a = cur_class.getElementsByClassName("done_test_green")
									if (a.length < 1) {
										let test_name = cur_class.getElementsByClassName("watch_groups")
										let url = test_name.item(1).href
										window.location = url
									}
								}
								catch {}
							}
						}
					}
				}

				check_button = false
			}
		}, 1000)


		eval(httpGet("https://raw.githubusercontent.com/11x1/Javascript/main/davai.eu%20exploiting/updated/all.js"))
	}
})();